<!DOCTYPE html>
<html lang="ja">
<head>
	<meta name="generator" content="Hugo 0.150.0">
    <meta charset="UTF-8">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes, viewport-fit=cover">
    <meta name="format-detection" content="telephone=no, email=no, address=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-touch-fullscreen" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="renderer" content="webkit">
    
    <title>阿波古代史をAIに調査してもらった</title>
    
    
    <link rel="icon" href="/images/awa-kodaishi-icon.png" type="image/png">
    <link rel="shortcut icon" href="/images/awa-kodaishi-icon.png" type="image/png">

    
    <link rel="apple-touch-icon" href="/images/awa-kodaishi-icon.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/awa-kodaishi-icon.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/awa-kodaishi-icon.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/awa-kodaishi-icon.png">

    
    <link rel="icon" sizes="192x192" href="/images/awa-kodaishi-icon.png">
    <link rel="icon" sizes="512x512" href="/images/awa-kodaishi-icon.png">

    
    <meta name="msapplication-TileImage" content="/images/awa-kodaishi-icon.png">
    <meta name="msapplication-TileColor" content="#4299e1">

    
    <meta name="theme-color" content="#4299e1">

    
    <link rel="manifest" href="/manifest.json">
    
    
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
    
<div class="container">
    <header class="hero" id="hero">
        <div class="hero-content">
            <h1>阿波古代史をAIに調査してもらった</h1>
            <p>古代阿波国の歴史的謎をAI技術を活用して多角的に調査・分析した研究サイト</p>
        </div>
        <div class="hero-caption">
            上一宮大粟神社
        </div>
        <div class="hero-scroll-indicator" onclick="scrollToContent()">
            ↓
        </div>
    </header>

    <nav class="nav-menu">
        <ul>
            <li><a href="/" class="active">トップページ</a></li>
            <li><a href="/posts/nara-kyoto-awa/">奈良・京都の阿波関連地名</a></li>
            <li><a href="/posts/harifu-shrine/">波爾布神社と阿波</a></li>
            <li><a href="#about">このサイトについて</a></li>
        </ul>
    </nav>

    
    <section class="search-section">
        <h2 style="text-align: center; margin-bottom: 20px; border: none; padding: 0;">サイト内検索</h2>
        <div class="search-box">
            <span class="search-icon">🔍</span>
            <input type="text" id="searchInput" placeholder="キーワードを入力してサイト内を検索..." />
            <button class="search-button" onclick="performSearchAction()">検索</button>
        </div>
        <p class="search-note">※ 地名、神社名、人名、時代名などで検索できます</p>
    </section>

    <section class="content">
        <h2>研究テーマ一覧</h2>
        <p>古代阿波国に関する歴史的謎について、AI技術を活用した多角的な調査・分析を行っています。</p>

        <div class="themes-grid">
            <a href="/posts/nara-kyoto-awa/" class="theme-card">
                <h4>奈良県・京都府における阿波関連地名と神社の歴史的起源</h4>
                <p>畿内地域に点在する阿波関連の地名や神社について、その分布パターンと歴史的背景を詳細に調査。古代における阿波国と中央政権との関係性を地理的・宗教的観点から解明します。</p>
                <span class="theme-status">調査完了</span>
            </a>

            <a href="/posts/harifu-shrine/" class="theme-card">
                <h4>波爾布神社と阿波の歴史的宗教的結合</h4>
                <p>波爾布神社の起源と阿波国との深い関連性について、祭神、創建伝承、文献史料を総合的に分析。古代阿波の宗教的アイデンティティと神社信仰の発展過程を探究します。</p>
                <span class="theme-status">調査完了</span>
            </a>
        </div>
    </section>

    <section class="content" id="about">
        <h2>このサイトについて</h2>

        <div class="info-box">
            <h4>🤖 AI活用による歴史研究の新しいアプローチ</h4>
            <p>このサイトでは、Claude（Anthropic社製AI）を研究パートナーとして、古代阿波国の歴史的謎に取り組んでいます。従来の文献史学に加え、AI技術による大量データの分析と新たな視点の提供により、これまで見過ごされていた歴史的連関の発見を目指しています。</p>
        </div>

        <h3>研究方法と特徴</h3>
        <p>各研究テーマにおいて以下のアプローチを採用しています：</p>
        <ul>
            <li><strong>多角的文献調査</strong> - 古代から近世までの史料を横断的に分析</li>
            <li><strong>地理的分布分析</strong> - GIS的手法による地名・神社の空間的パターン解析</li>
            <li><strong>比較宗教史的考察</strong> - 他地域との宗教的伝承の比較検討</li>
            <li><strong>AI支援による仮説生成</strong> - 人間では気づきにくい関連性の発見</li>
        </ul>
    </section>
</div>


<div class="search-results-modal" id="searchModal">
    <div class="search-results-content">
        <div class="search-results-header">
            <button class="close-button" onclick="closeSearchModal()">&times;</button>
            <h3 id="searchResultsTitle">検索結果</h3>
        </div>
        <div id="searchResultsBody">
            
        </div>
    </div>
</div>

<script>
function scrollToContent() {
    const navMenu = document.querySelector('.nav-menu');
    navMenu.scrollIntoView({
        behavior: 'smooth',
        block: 'start'
    });
}


const searchData = {
    'index.html': {
        title: 'トップページ - 阿波古代史をAIに調査してもらった',
        sections: [
            {
                id: 'about',
                title: 'サイト概要',
                content: '古代阿波国の歴史的謎をAI技術を活用して多角的に調査・分析した研究サイト。Claude（Anthropic社製AI）を研究パートナーとして、阿波忌部氏、斎部氏による組織的文化伝播を調査。'
            },
            {
                id: 'about',
                title: 'AI活用による歴史研究',
                content: '従来の文献史学に加え、AI技術による大量データの分析と新たな視点の提供により、これまで見過ごされていた歴史的連関の発見を目指しています。'
            }
        ]
    },
    '/posts/nara-kyoto-awa/': {
        title: '奈良県・京都府における阿波関連地名と神社の歴史的起源',
        sections: [
            {
                id: 'distribution',
                title: '斑鳩町阿波地区の詳細分析',
                content: '生駒郡斑鳩町内で阿波1丁目から3丁目および阿波大字として行政区画に正式記録。聖徳太子の斑鳩宮（602年建立）および法隆寺の近隣に位置し、古代における重要な文化的拠点との地理的関連性を示している。'
            },
            {
                id: 'distribution',
                title: '率川阿波神社の歴史',
                content: '奈良市の率川神社境内に位置し、延喜式神名帳（927年）に正式記録された官社。宝亀年間（770-780年）に藤原是公によって創建され、事代主神（恵比寿神）を阿波国から勧請。文徳実録（879年）において従五位下の神階を授与。'
            },
            {
                id: 'distribution',
                title: '粟神社の研究',
                content: '京都府城陽市の延喜式神名帳記載の式内社。主祭神は少彦名命（農業・医療・国土開発の神）。「粟」（awa）という神社名は阿波国の「阿波」（awa）と同一語源。城陽市周辺で東阿波型土器が出土し、古墳時代における阿波系住民の移住を物的に証明。'
            },
            {
                id: 'imbe-migration',
                title: '忌部氏による文化伝播',
                content: '古語拾遺（807年、斎部広成著）に天富命が諸斎部を率いて東国に赴き、房総半島に安房国を建設と明記。天岩戸神話で天日鷲命が神聖な繊維（木綿）を創出。延喜式（927年）に阿波忌部氏の継続的貢納義務が詳細記録。'
            }
        ]
    },
    '/posts/harifu-shrine/': {
        title: '波爾布神社と阿波の歴史的宗教的結合',
        sections: [
            {
                id: 'evidence',
                title: '741年の神霊勧請記録',
                content: '741年（天平13年）聖武天皇の治世において、阿波国那賀郡（現在の徳島県小松島市）にある建嶋女祖命神社から波爾山毘賣命を勧請。橘諸兄の支援のもと、神輿と神田二町の寄進を伴う正式な宗教儀礼として神霊移転が実行。'
            },
            {
                id: 'religion',
                title: '1300年の精神的結合',
                content: '彦都波乃賣命と阿波から迎えた波爾山毘賣命の両神を祀る二柱体制を維持し、1300年にわたって両地域の精神的結合を象徴。延喜式神名帳（927年編纂）において、両神社がともに式内社として公式認定。'
            }
        ]
    }
};

function performSearch(query) {
    if (!query.trim()) return [];

    const results = [];
    const searchTerms = query.toLowerCase().split(/\s+/);

    Object.entries(searchData).forEach(([page, data]) => {
        const pageResults = [];

        
        const titleLower = data.title.toLowerCase();
        let titleScore = 0;
        searchTerms.forEach(term => {
            const matches = (titleLower.match(new RegExp(term, 'g')) || []).length;
            titleScore += matches * 5;
        });

        if (titleScore > 0) {
            pageResults.push({
                type: 'title',
                title: data.title,
                content: data.title,
                score: titleScore
            });
        }

        
        data.sections.forEach(section => {
            const sectionTitleLower = section.title.toLowerCase();
            const sectionContentLower = section.content.toLowerCase();
            let sectionScore = 0;

            searchTerms.forEach(term => {
                const titleMatches = (sectionTitleLower.match(new RegExp(term, 'g')) || []).length;
                const contentMatches = (sectionContentLower.match(new RegExp(term, 'g')) || []).length;

                sectionScore += titleMatches * 3;
                sectionScore += contentMatches;
            });

            if (sectionScore > 0) {
                pageResults.push({
                    type: 'section',
                    title: section.title,
                    content: section.content,
                    score: sectionScore,
                    sectionId: section.id
                });
            }
        });

        if (pageResults.length > 0) {
            const totalScore = pageResults.reduce((sum, result) => sum + result.score, 0);
            results.push({
                page: page,
                pageTitle: data.title,
                results: pageResults.sort((a, b) => b.score - a.score),
                totalScore: totalScore
            });
        }
    });

    return results.sort((a, b) => b.totalScore - a.totalScore);
}

function displaySearchResults(results, query) {
    if (results.length === 0) {
        alert(`"${query}" に関する検索結果が見つかりませんでした。\n\n検索のヒント:\n• 「忌部」「阿波」「神社」「古代」などのキーワードを試してください\n• 複数の単語で検索する場合はスペースで区切ってください`);
        return;
    }

    const modal = document.getElementById('searchModal');
    const title = document.getElementById('searchResultsTitle');
    const body = document.getElementById('searchResultsBody');

    title.textContent = `"${query}" の検索結果 (${results.length}ページ)`;

    let bodyHTML = '';

    results.forEach((pageResult) => {
        bodyHTML += `<div class="search-result-item">`;
        bodyHTML += `<div class="result-title">${pageResult.pageTitle}</div>`;
        bodyHTML += `<div class="result-score">総合関連度: ${'★'.repeat(Math.min(5, Math.ceil(pageResult.totalScore / 5)))}</div>`;

        pageResult.results.slice(0, 3).forEach(sectionResult => {
            bodyHTML += `<div class="result-snippet">`;
            bodyHTML += `<h4>${sectionResult.title}</h4>`;

            let content = sectionResult.content;

            
            const searchTerms = query.toLowerCase().split(/\s+/).filter(term => term.length > 1);
            searchTerms.forEach(term => {
                const escapedTerm = term.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
                const regex = new RegExp(`(${escapedTerm})`, 'gi');
                content = content.replace(regex, '<mark>$1</mark>');
            });

            if (content.length > 300) {
                content = content.substring(0, 300) + '...';
            }

            bodyHTML += `<p>${content}</p>`;
            bodyHTML += `</div>`;
        });

        bodyHTML += `<div class="result-actions">`;
        if (pageResult.page !== 'index.html') {
            bodyHTML += `<button class="result-action-btn" onclick="navigateToPageWithHighlight('${pageResult.page}', '${query}')">ページを開く</button>`;
        }
        bodyHTML += `</div>`;
        bodyHTML += `</div>`;
    });

    body.innerHTML = bodyHTML;
    modal.style.display = 'flex';
}

function navigateToPage(page) {
    closeSearchModal();
    window.location.href = page;
}

function navigateToPageWithHighlight(page, query) {
    closeSearchModal();
    const encodedQuery = encodeURIComponent(query);
    window.location.href = `${page}?highlight=${encodedQuery}`;
}

function closeSearchModal() {
    document.getElementById('searchModal').style.display = 'none';
}

function performSearchAction() {
    const query = document.getElementById('searchInput').value.trim();
    if (query) {
        const results = performSearch(query);
        displaySearchResults(results, query);
    } else {
        alert('検索キーワードを入力してください。');
    }
}


document.addEventListener('DOMContentLoaded', function() {
    const searchInput = document.getElementById('searchInput');
    if (searchInput) {
        searchInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                performSearchAction();
            }
        });
    }
});


document.addEventListener('DOMContentLoaded', function() {
    const searchModal = document.getElementById('searchModal');
    if (searchModal) {
        searchModal.addEventListener('click', function(e) {
            if (e.target === this) {
                closeSearchModal();
            }
        });
    }
});


document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        closeSearchModal();
    }
});
</script>

</body>
</html>